<% layout('layout') -%>
<style></style>

<div class="d-flex w-100 justify-content-between mt-4">
  <form id="form" action="/upload" method="post">
    <div class="mb-3">
      <label for="formGroupExampleInput" class="form-label">Name :</label>
      <input
        type="text"
        class="form-control"
        id="formGroupExampleInput"
        name="name"
      />
    </div>

    <div>
      <label for="inlineFormInputGroup">Passes : </label>
      <div class="input-group mb-2">
        <div class="input-group-append">
          <button type="button" class="btn decrementPass btn-outline-secondary">
            -
          </button>
        </div>
        <input
          type="text"
          class="form-control passNo"
          id="inlineFormInputGroup"
          name="passes"
          value="2"
        />
        <div class="input-group-prepend">
          <button type="button" class="btn incrementPass btn-outline-secondary">
            +
          </button>
        </div>
      </div>
    </div>

    <div class="mt-4">
      <button type="submit" class="btn btn-primary">Submit</button>
    </div>

    <code>
      <div class="mt-4">Passes sold : <%= count %></div>
      <div class="mt-1">Members confirmed : <%= members %></div>
    </code>
  </form>

  <script>
    window.addEventListener("DOMContentLoaded", function () {
      $(".decrementPass").click(function () {
        const passes = parseInt($(".passNo").val());
        $(".passNo").val(passes - 1);
      });

      $(".incrementPass").click(function () {
        const passes = parseInt($(".passNo").val());
        $(".passNo").val(passes + 1);
      });
    });
  </script>
</div>
